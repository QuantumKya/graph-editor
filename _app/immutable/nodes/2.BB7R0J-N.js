import"../chunks/CWj6FrbW.js";import"../chunks/Dt0RW6pk.js";import{a as Xt,l as zt,d as lt,o as bt,r as Ct,c as qt,e as Ot}from"../chunks/CmnomIUq.js";import{a4 as Pt,b as Rt,s as et,h as N,M as Ht,a as Bt,A as h,ak as Ft,r as Vt,c as Lt,d as dt,f as rt,j as G,Y as Ut,$ as Wt,g as wt,i as At,p as Gt,aw as nt,a2 as Mt,R as ht,ax as Kt,as as Jt,ay as pt,az as Zt,aA as jt,N as $t,aB as Qt,aC as te,aD as ee,aE as re,Z as ne,W as ie,aF as oe,aG as ae,aH as se,aI as ue,aJ as le,aK as fe,u as ce,l as de,D as ft,at as z,al as Z,F as W,J as K,L as P,am as E,K as L,t as V,I as ct,G as $,x as he}from"../chunks/CAge3LoI.js";import{b as j,i as St}from"../chunks/BFMjrfgj.js";import{b as Et}from"../chunks/CRqqeSxI.js";function pe(r,n){return n}function ye(r,n,e,i){for(var a=[],s=n.length,f=0;f<s;f++)jt(n[f].e,a,!0);var t=s>0&&a.length===0&&e!==null;if(t){var o=e.parentNode;$t(o),o.append(e),i.clear(),R(r,n[0].prev,n[s-1].next)}Qt(a,()=>{for(var c=0;c<s;c++){var u=n[c];t||(i.delete(u.k),R(r,u.prev,u.next)),te(u.e,!t)}})}function ve(r,n,e,i,a,s=null){var f=r,t={flags:n,items:new Map,first:null};{var o=r;f=N?et(Ht(o)):o.appendChild(Pt())}N&&Bt();var c=null,u=!1,_=Ft(()=>{var d=e();return ie(d)?d:d==null?[]:Mt(d)});Rt(()=>{var d=h(_),p=d.length;if(u&&p===0)return;u=p===0;let v=!1;if(N){var M=Vt(f)===Lt;M!==(p===0)&&(f=dt(),et(f),rt(!1),v=!0)}if(N){for(var A=null,y,m=0;m<p;m++){if(G.nodeType===Ut&&G.data===Wt){f=G,v=!0,rt(!1);break}var Y=d[m],T=i(Y,m);y=Nt(G,t,A,null,Y,T,m,a,n,e),t.items.set(T,y),A=y}p>0&&et(dt())}N||ge(d,t,f,a,n,i,e),s!==null&&(p===0?c?wt(c):c=At(()=>s(f)):c!==null&&Gt(c,()=>{c=null})),v&&rt(!0),h(_)}),N&&(f=G)}function ge(r,n,e,i,a,s,f){var t=r.length,o=n.items,c=n.first,u=c,_,d=null,p=[],v=[],M,A,y,m;for(m=0;m<t;m+=1){if(M=r[m],A=s(M,m),y=o.get(A),y===void 0){var Y=u?u.e.nodes_start:e;d=Nt(Y,n,d,d===null?n.first:d.next,M,A,m,i,a,f),o.set(A,d),p=[],v=[],u=d.next;continue}if(xe(y,M,m),(y.e.f&nt)!==0&&wt(y.e),y!==u){if(_!==void 0&&_.has(y)){if(p.length<v.length){var T=v[0],k;d=T.prev;var D=p[0],C=p[p.length-1];for(k=0;k<p.length;k+=1)yt(p[k],T,e);for(k=0;k<v.length;k+=1)_.delete(v[k]);R(n,D.prev,C.next),R(n,d,D),R(n,C,T),u=T,d=C,m-=1,p=[],v=[]}else _.delete(y),yt(y,u,e),R(n,y.prev,y.next),R(n,y,d===null?n.first:d.next),R(n,d,y),d=y;continue}for(p=[],v=[];u!==null&&u.k!==A;)(u.e.f&nt)===0&&(_??(_=new Set)).add(u),v.push(u),u=u.next;if(u===null)continue;y=u}p.push(y),d=y,u=y.next}if(u!==null||_!==void 0){for(var X=_===void 0?[]:Mt(_);u!==null;)(u.e.f&nt)===0&&X.push(u),u=u.next;var F=X.length;if(F>0){var b=t===0?e:null;ye(n,X,b,o)}}ht.first=n.first&&n.first.e,ht.last=d&&d.e}function xe(r,n,e,i){Kt(r.v,n),r.i=e}function Nt(r,n,e,i,a,s,f,t,o,c){var u=(o&ee)!==0,_=(o&re)===0,d=u?_?Jt(a,!1,!1):pt(a):a,p=(o&Zt)===0?f:pt(f),v={i:p,v:d,k:s,a:null,e:null,prev:e,next:i};try{return v.e=At(()=>t(r,d,p,c),N),v.e.prev=e&&e.e,v.e.next=i&&i.e,e===null?n.first=v:(e.next=v,e.e.next=v.e),i!==null&&(i.prev=v,i.e.prev=v.e),v}finally{}}function yt(r,n,e){for(var i=r.next?r.next.e.nodes_start:e,a=n?n.e.nodes_start:e,s=r.e.nodes_start;s!==i;){var f=ne(s);a.before(s),s=f}}function R(r,n,e){n===null?r.first=e:(n.next=e,n.e.next=e&&e.e),e!==null&&(e.prev=n,e.e.prev=n&&n.e)}function Tt(r){var n,e,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(n=0;n<a;n++)r[n]&&(e=Tt(r[n]))&&(i&&(i+=" "),i+=e)}else for(e in r)r[e]&&(i&&(i+=" "),i+=e);return i}function me(){for(var r,n,e=0,i="",a=arguments.length;e<a;e++)(r=arguments[e])&&(n=Tt(r))&&(i&&(i+=" "),i+=n);return i}function _e(r){return typeof r=="object"?me(r):r??""}const vt=[...` 	
\r\fÂ \v\uFEFF`];function be(r,n,e){var i=r==null?"":""+r;if(n&&(i=i?i+" "+n:n),e){for(var a in e)if(e[a])i=i?i+" "+a:a;else if(i.length)for(var s=a.length,f=0;(f=i.indexOf(a,f))>=0;){var t=f+s;(f===0||vt.includes(i[f-1]))&&(t===i.length||vt.includes(i[t]))?i=(f===0?"":i.substring(0,f))+i.substring(t+1):f=t}}return i===""?null:i}function gt(r,n=!1){var e=n?" !important;":";",i="";for(var a in r){var s=r[a];s!=null&&s!==""&&(i+=" "+a+": "+s+e)}return i}function we(r,n){if(n){var e="",i,a;return Array.isArray(n)?(i=n[0],a=n[1]):i=n,i&&(e+=gt(i)),a&&(e+=gt(a,!0)),e=e.trim(),e===""?null:e}return String(r)}function H(r,n,e,i,a,s){var f=r.__className;if(N||f!==e||f===void 0){var t=be(e,i,s);(!N||t!==r.getAttribute("class"))&&(t==null?r.removeAttribute("class"):r.className=t),r.__className=e}else if(s&&a!==s)for(var o in s){var c=!!s[o];(a==null||c!==!!a[o])&&r.classList.toggle(o,c)}return s}function it(r,n={},e,i){for(var a in e){var s=e[a];n[a]!==s&&(e[a]==null?r.style.removeProperty(a):r.style.setProperty(a,s,i))}}function Ae(r,n,e,i){var a=r.__style;if(N||a!==n){var s=we(n,i);(!N||s!==r.getAttribute("style"))&&(s==null?r.removeAttribute("style"):r.style.cssText=s),r.__style=n}else i&&(Array.isArray(i)?(it(r,e==null?void 0:e[0],i[0]),it(r,e==null?void 0:e[1],i[1],"important")):it(r,e,i));return i}const Me=Symbol("is custom element"),Se=Symbol("is html");function Ee(r){if(N){var n=!1,e=()=>{if(!n){if(n=!0,r.hasAttribute("value")){var i=r.value;U(r,"value",null),r.value=i}if(r.hasAttribute("checked")){var a=r.checked;U(r,"checked",null),r.checked=a}}};r.__on_r=e,ue(e),Xt()}}function U(r,n,e,i){var a=Ne(r);N&&(a[n]=r.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&r.nodeName==="LINK")||a[n]!==(a[n]=e)&&(n==="loading"&&(r[oe]=e),e==null?r.removeAttribute(n):typeof e!="string"&&Te(r).includes(n)?r[n]=e:r.setAttribute(n,e))}function Ne(r){return r.__attributes??(r.__attributes={[Me]:r.nodeName.includes("-"),[Se]:r.namespaceURI===ae})}var xt=new Map;function Te(r){var n=xt.get(r.nodeName);if(n)return n;xt.set(r.nodeName,n=[]);for(var e,i=r,a=Element.prototype;a!==i;){e=le(i);for(var s in e)e[s].set&&n.push(s);i=se(i)}return n}function mt(r,n,e=n){var i=fe();zt(r,"input",a=>{var s=a?r.defaultValue:r.value;if(s=ot(r)?at(s):s,e(s),i&&s!==(s=n())){var f=r.selectionStart,t=r.selectionEnd;r.value=s??"",t!==null&&(r.selectionStart=f,r.selectionEnd=Math.min(t,r.value.length))}}),(N&&r.defaultValue!==r.value||ce(n)==null&&r.value)&&e(ot(r)?at(r.value):r.value),de(()=>{var a=n();ot(r)&&a===at(r.value)||r.type==="date"&&!a&&!r.value||a!==r.value&&(r.value=a??"")})}function ot(r){var n=r.type;return n==="number"||n==="range"}function at(r){return r===""?null:+r}const ke=[{id:0,name:"Addition",description:"",image:"",position:[100,100]},{id:1,name:"Subtraction",description:"",image:"",position:[300,150]},{id:2,name:"Multiplication",description:"",image:"",position:[200,300]},{id:3,name:"Division",description:"",image:"",position:[300,450]}],De=[{from:0,to:1},{from:0,to:2},{from:2,to:3}],ut={nodes:ke,links:De};var Ye=W('<img alt="Uploaded Icon" class="rounded-lg w-[300px]"/>'),Ie=W('<img alt="Uploaded Icon" class="rounded-lg w-[300px]"/>'),Xe=W('<div class="flex flex-col gap-3.5 max-w-[350px] h-fit bg-neutral-950 text-white p-2.5 rounded-xl"><input type="text" placeholder="Node Title"/> <button>Upload Image</button> <input type="file" accept="image/*"/> <!> <textarea rows="6" maxlength="400" placeholder="Node Description"></textarea> <div class="relative inline-block h-fit"><button>Save</button> <button>Exit</button></div></div>');function ze(r,n){ft(n,!0);const i=ut.nodes[n.node_id];let a=z(Z(i.name)),s=z(Z(i.description)),f=z(Z(i.image)),t,o,c,u=!1,_=!1;bt(()=>{o.value=i.name,c.value=i.description});const d=()=>{u=!0},p="bg-neutral-800 text-white border-blue-500 text-center rounded-xl border-2 w-fit p-2 pt-1 transition duration-200 hover:bg-gray-700",v="font-mono text-lg bg-neutral-800 text-white rounded-xl p-2 pl-3 transition duration-300 focus:bg-gray-700 focus:ring-2 focus:ring-blue-500 outline-none";var M=Xe(),A=K(M);Ee(A),H(A,1,v),A.__change=d,j(A,b=>o=b,()=>o);var y=P(A,2);H(y,1,p),y.__click=b=>{t.click()};var m=P(y,2);m.__change=b=>{const S=b.target;if(!S.files||S.files.length===0)return;const I=S.files[0],B=new FileReader;B.onload=()=>{typeof B.result=="string"&&E(f,B.result,!0)},B.readAsDataURL(I),d()},Ae(m,"",{},{display:"none"}),j(m,b=>t=b,()=>t);var Y=P(m,2);{var T=b=>{var S=Ye();$(()=>U(S,"src",h(f))),V(b,S)},k=b=>{var S=Ie();$(()=>U(S,"src",`${Et??""}/landscape-placeholder.svg`)),V(b,S)};St(Y,b=>{h(f)!=""?b(T):b(k,!1)})}var D=P(Y,2);Ct(D),H(D,1,"font-mono text-lg bg-neutral-800 text-white rounded-xl p-2 pl-3 transition duration-300 focus:bg-gray-700 focus:ring-2 focus:ring-blue-500 outline-none placeholder:text-neutral-400 resize-none overflow-scroll"),D.__change=d,j(D,b=>c=b,()=>c);var C=P(D,2),X=K(C);H(X,1,"bg-neutral-800 text-white border-blue-500 text-center rounded-xl border-2 w-fit p-2 pt-1 transition duration-200 hover:bg-gray-700 float-left"),X.__click=()=>{_=n.saveNode(n.node_id,h(a),h(s),h(f))};var F=P(X,2);H(F,1,"bg-neutral-800 text-white border-blue-500 text-center rounded-xl border-2 w-fit p-2 pt-1 transition duration-200 hover:bg-gray-700 float-right"),F.__click=()=>n.exitNode(_,u),L(C),L(M),mt(A,()=>h(a),b=>E(a,b)),mt(D,()=>h(s),b=>E(s,b)),V(r,M),ct()}lt(["change","click"]);var Ce=W("<button><img/></button>"),qe=W('<div class="flex absolute rounded-xl bg-neutral-200 border-blue-300 border-2 p-[15px] pt-[5px] pb-[5px] h-fit bottom-6 left-[50%] transform -translate-[50%]"></div>');function Oe(r,n){ft(n,!0);let e=z(2),i=["node_add.png","node_edit.png","node_drag.png","link.png"];const a=qt();he(()=>{a("modeChanged",h(e))});var s=qe();ve(s,21,()=>i,pe,(f,t,o)=>{var c=Ce();c.__click=()=>E(e,o,!0);var u=K(c);L(c),$(_=>{H(c,1,`p-2.5 rounded-xl border-none outline-none transition duration-200 hover:bg-blue-300 ${h(e)===o?"bg-gray-500 mt-auto mb-auto":"mt-[10px] mb-[10px]"}`),U(u,"src",`${Et??""}/mode_icons/${h(t)??""}`),U(u,"alt",_),H(u,1,_e(h(e)===o?"max-w-[40px] rounded-xl":"max-w-[30px] rounded-lg"))},[()=>i[h(e)].split(".")[0]]),V(f,c)}),L(s),V(r,s),ct()}lt(["click"]);function Pe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var st={exports:{}},_t;function Re(){return _t||(_t=1,function(r,n){r.exports=e;function e(t,o){if(!(this instanceof e))return new e(t,o);this.x=t||0,this.y=o||0}e.fromArray=function(t){return new e(t[0]||0,t[1]||0)},e.fromObject=function(t){return new e(t.x||0,t.y||0)},e.prototype.addX=function(t){return this.x+=t.x,this},e.prototype.addY=function(t){return this.y+=t.y,this},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},e.prototype.addScalarX=function(t){return this.x+=t,this},e.prototype.addScalarY=function(t){return this.y+=t,this},e.prototype.subtractX=function(t){return this.x-=t.x,this},e.prototype.subtractY=function(t){return this.y-=t.y,this},e.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.subtractScalar=function(t){return this.x-=t,this.y-=t,this},e.prototype.subtractScalarX=function(t){return this.x-=t,this},e.prototype.subtractScalarY=function(t){return this.y-=t,this},e.prototype.divideX=function(t){return this.x/=t.x,this},e.prototype.divideY=function(t){return this.y/=t.y,this},e.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},e.prototype.divideScalar=function(t){return t!==0?(this.x/=t,this.y/=t):(this.x=0,this.y=0),this},e.prototype.divideScalarX=function(t){return t!==0?this.x/=t:this.x=0,this},e.prototype.divideScalarY=function(t){return t!==0?this.y/=t:this.y=0,this},e.prototype.invertX=function(){return this.x*=-1,this},e.prototype.invertY=function(){return this.y*=-1,this},e.prototype.invert=function(){return this.invertX(),this.invertY(),this},e.prototype.multiplyX=function(t){return this.x*=t.x,this},e.prototype.multiplyY=function(t){return this.y*=t.y,this},e.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},e.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},e.prototype.multiplyScalarX=function(t){return this.x*=t,this},e.prototype.multiplyScalarY=function(t){return this.y*=t,this},e.prototype.normalize=function(){var t=this.length();return t===0?(this.x=1,this.y=0):this.divide(e(t,t)),this},e.prototype.norm=e.prototype.normalize,e.prototype.limit=function(t,o){return Math.abs(this.x)>t&&(this.x*=o),Math.abs(this.y)>t&&(this.y*=o),this},e.prototype.randomize=function(t,o){return this.randomizeX(t,o),this.randomizeY(t,o),this},e.prototype.randomizeX=function(t,o){var c=Math.min(t.x,o.x),u=Math.max(t.x,o.x);return this.x=a(c,u),this},e.prototype.randomizeY=function(t,o){var c=Math.min(t.y,o.y),u=Math.max(t.y,o.y);return this.y=a(c,u),this},e.prototype.randomizeAny=function(t,o){return Math.round(Math.random())?this.randomizeX(t,o):this.randomizeY(t,o),this},e.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},e.prototype.toFixed=function(t){return typeof t>"u"&&(t=8),this.x=this.x.toFixed(t),this.y=this.y.toFixed(t),this},e.prototype.mixX=function(t,o){return typeof o>"u"&&(o=.5),this.x=(1-o)*this.x+o*t.x,this},e.prototype.mixY=function(t,o){return typeof o>"u"&&(o=.5),this.y=(1-o)*this.y+o*t.y,this},e.prototype.mix=function(t,o){return this.mixX(t,o),this.mixY(t,o),this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyX=function(t){return this.x=t.x,this},e.prototype.copyY=function(t){return this.y=t.y,this},e.prototype.copy=function(t){return this.copyX(t),this.copyY(t),this},e.prototype.zero=function(){return this.x=this.y=0,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.cross=function(t){return this.x*t.y-this.y*t.x},e.prototype.projectOnto=function(t){var o=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=o*t.x,this.y=o*t.y,this},e.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},e.prototype.horizontalAngleDeg=function(){return s(this.horizontalAngle())},e.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},e.prototype.verticalAngleDeg=function(){return s(this.verticalAngle())},e.prototype.angle=e.prototype.horizontalAngle,e.prototype.angleDeg=e.prototype.horizontalAngleDeg,e.prototype.direction=e.prototype.horizontalAngle,e.prototype.rotate=function(t){var o=this.x*Math.cos(t)-this.y*Math.sin(t),c=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=o,this.y=c,this},e.prototype.rotateDeg=function(t){return t=f(t),this.rotate(t)},e.prototype.rotateTo=function(t){return this.rotate(t-this.angle())},e.prototype.rotateToDeg=function(t){return t=f(t),this.rotateTo(t)},e.prototype.rotateBy=function(t){var o=this.angle()+t;return this.rotate(o)},e.prototype.rotateByDeg=function(t){return t=f(t),this.rotateBy(t)},e.prototype.distanceX=function(t){return this.x-t.x},e.prototype.absDistanceX=function(t){return Math.abs(this.distanceX(t))},e.prototype.distanceY=function(t){return this.y-t.y},e.prototype.absDistanceY=function(t){return Math.abs(this.distanceY(t))},e.prototype.distance=function(t){return Math.sqrt(this.distanceSq(t))},e.prototype.distanceSq=function(t){var o=this.distanceX(t),c=this.distanceY(t);return o*o+c*c},e.prototype.length=function(){return Math.sqrt(this.lengthSq())},e.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},e.prototype.magnitude=e.prototype.length,e.prototype.isZero=function(){return this.x===0&&this.y===0},e.prototype.isEqualTo=function(t){return this.x===t.x&&this.y===t.y},e.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},e.prototype.toArray=function(){return[this.x,this.y]},e.prototype.toObject=function(){return{x:this.x,y:this.y}};var i=180/Math.PI;function a(t,o){return Math.floor(Math.random()*(o-t+1)+t)}function s(t){return t*i}function f(t){return t/i}}(st)),st.exports}var He=Re();const O=Pe(He),Be=(r,n,e,i)=>{h(n)||(E(e,!1),E(i,!1))},Fe=(r,n)=>{r.key=="Escape"&&h(n)&&E(n,!1)};var Ve=r=>r.preventDefault(),Le=W('<div id="canvas-box" class="relative inline-block overflow-hidden"><canvas></canvas> <div class="absolute right-2.5 top-2.5"><!></div> <!></div>');function Ue(r,n){ft(n,!0);let e,i=new O(0,0),a=1,s=z(!1),f,t,o,c=new O(0,0),u=ut.nodes,_=ut.links,d=[],p=z(Z(u[0])),v=z(!1),M=z(!1),A,y=z(!1),m=0;const Y=l=>{e.width=window.innerWidth,e.height=window.innerHeight,l.clearRect(0,0,e.width,e.height),h(y)&&(l.beginPath(),l.moveTo(h(p).position[0]-i.x,h(p).position[1]-i.y),l.lineTo(o.x,o.y),l.lineWidth=10,l.strokeStyle="rgba(0, 0, 0, 0.35)",l.stroke()),_.forEach(g=>{l.beginPath();const x=u[g.from],w=u[g.to];l.moveTo(x.position[0]-i.x,x.position[1]-i.y),l.lineTo(w.position[0]-i.x,w.position[1]-i.y),l.lineWidth=10,l.strokeStyle="black",l.stroke()}),u.forEach((g,x)=>{d[x].src=g.image;const w=O.fromArray(g.position).subtract(i),q=25;l.beginPath(),l.arc(w.x,w.y,20,0,Math.PI*2),l.fillStyle="black",l.fill(),l.drawImage(d[x],w.x-q/2,w.y-q/2,q,q)}),requestAnimationFrame(()=>Y(l))},T=l=>{const g=e.getBoundingClientRect(),x=(l.clientX-g.left+i.x)/a,w=(l.clientY-g.top+i.y)/a;return new O(x,w)},k=(l,g,x)=>{const w=g.clone().subtract(l),J=x.clone().subtract(l).dot(w)/w.lengthSq();if(J<0||J>1)return 1e6;const tt=Math.abs(g.clone().subtract(l).cross(x.clone().subtract(l))),It=g.clone().subtract(l).length();return tt/It},D=l=>{if(h(M))return;const g=T(l);let x=u.find(w=>O.fromArray(w.position).distanceSq(g)<400);if(E(p,x??h(p),!0),l.button===0){if(m===1){if(!x)return;E(M,!0)}else if(m===2){if(!x)return;c=g.clone().subtract(O.fromArray(h(p).position)),E(v,!0)}else if(m===3)if(x)if(h(y)){if(A.id===h(p).id)return;_.push({from:A.id,to:h(p).id}),E(y,!1)}else A=x,E(y,!0),o=g;else{const w=_.findIndex(q=>{const J=u[q.from],tt=u[q.to];return k(O.fromArray(J.position),O.fromArray(tt.position),g)<10});w!==-1&&_.splice(w,1)}}l.button===2&&(E(s,!0),f=g,t=i)},C=l=>{if(h(M))return;const g=T(l);if(o=g,h(v)){let x=u.find(w=>w.id===h(p).id);if(x===void 0)throw new Error("uhhh focusNode error, it's not in the list...");x.position=g.clone().subtract(c).toArray()}else if(h(s)){const x=g.clone().subtract(f);i=t.clone().subtract(x)}},X=l=>{l.preventDefault()},F=(l,g,x,w)=>window.confirm("Save this node with new contents?")?(u[l].name=g,u[l].description=x,u[l].image=w,!0):!1,b=(l,g)=>{!l&&g&&!window.confirm("Stop editing without saving?")||E(M,!1)};bt(()=>{for(const g of u){let x=new Image;x.src=g.image,d.push(x)}let l=e==null?void 0:e.getContext("2d");l!==null&&Y(l)});var S=Le(),I=K(S);let B;I.__mousemove=C,I.__mousedown=D,I.__mouseup=[Be,M,v,s],I.__keydown=[Fe,y],I.__contextmenu=[Ve],j(I,l=>e=l,()=>e);var Q=P(I,2),kt=K(Q);{var Dt=l=>{ze(l,{get node_id(){return h(p).id},saveNode:F,exitNode:b})};St(kt,l=>{h(M)&&l(Dt)})}L(Q);var Yt=P(Q,2);Oe(Yt,{$$events:{modeChanged:l=>m=l.detail}}),L(S),$(l=>B=H(I,1,"bg-neutral-100",null,B,l),[()=>({"cursor-grabbing":h(v)||h(s)})]),Ot("wheel",S,X),V(r,S),ct()}lt(["mousemove","mousedown","mouseup","keydown","contextmenu"]);function $e(r){Ue(r,{})}export{$e as component};
