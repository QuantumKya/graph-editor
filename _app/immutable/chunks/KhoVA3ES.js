import{af as At,h as Et,aH as dt,p as P,i as A,D as Ct,j as St,g as C,Z as _t,k as Yt,l as Xt,o as $,q as H,x as q,a6 as Dt,a9 as wt,u as yt,v as vt,w as Tt,aI as R,ad as xt,M as Nt,ah as tt,aJ as Q,aK as rt,aL as Z,m as Ot,aM as et,aN as zt,aO as It,ac as kt,aP as qt,C as Lt,aQ as Pt,a7 as Ht,am as Rt,P as Vt,f as I,b as z,Q as Bt,s as D,c as w,r as T,R as jt,t as V,aD as it,a as Ft,d as nt,aR as ot}from"./CdiwDntd.js";import"./CWj6FrbW.js";import{s as L}from"./a7uudO9m.js";import{i as st}from"./C8ykwlrY.js";import{d as Qt}from"./CMfIiZwR.js";import{b as at}from"./BLMSFg2n.js";function ut(e,i){return i}function Zt(e,i,r,n){for(var s=[],a=i.length,u=0;u<a;u++)It(i[u].e,s,!0);var t=a>0&&s.length===0&&r!==null;if(t){var o=r.parentNode;kt(o),o.append(r),n.clear(),_(e,i[0].prev,i[a-1].next)}qt(s,()=>{for(var c=0;c<a;c++){var p=i[c];t||(n.delete(p.k),_(e,p.prev,p.next)),Lt(p.e,!t)}})}function ft(e,i,r,n,s,a=null){var u=e,t={flags:i,items:new Map,first:null},o=(i&dt)!==0;if(o){var c=e;u=A?P(Ct(c)):c.appendChild(At())}A&&St();var p=null,b=!1,f=_t(()=>{var v=r();return Rt(v)?v:v==null?[]:xt(v)});Et(()=>{var v=C(f),h=v.length;if(b&&h===0)return;b=h===0;let y=!1;if(A){var x=Yt(u)===Xt;x!==(h===0)&&(u=$(),P(u),H(!1),y=!0)}if(A){for(var g=null,M,m=0;m<h;m++){if(q.nodeType===Dt&&q.data===wt){u=q,y=!0,H(!1);break}var l=v[m],d=n(l,m);M=gt(q,t,g,null,l,d,m,s,i,r),t.items.set(d,M),g=M}h>0&&P($())}A||Jt(v,t,u,s,i,n,r),a!==null&&(h===0?p?yt(p):p=vt(()=>a(u)):p!==null&&Tt(p,()=>{p=null})),y&&H(!0),C(f)}),A&&(u=q)}function Jt(e,i,r,n,s,a,u){var J,K,U,G;var t=(s&zt)!==0,o=(s&(Q|Z))!==0,c=e.length,p=i.items,b=i.first,f=b,v,h=null,y,x=[],g=[],M,m,l,d;if(t)for(d=0;d<c;d+=1)M=e[d],m=a(M,d),l=p.get(m),l!==void 0&&((J=l.a)==null||J.measure(),(y??(y=new Set)).add(l));for(d=0;d<c;d+=1){if(M=e[d],m=a(M,d),l=p.get(m),l===void 0){var N=f?f.e.nodes_start:r;h=gt(N,i,h,h===null?i.first:h.next,M,m,d,n,s,u),p.set(m,h),x=[],g=[],f=h.next;continue}if(o&&Kt(l,M,d,s),(l.e.f&R)!==0&&(yt(l.e),t&&((K=l.a)==null||K.unfix(),(y??(y=new Set)).delete(l))),l!==f){if(v!==void 0&&v.has(l)){if(x.length<g.length){var S=g[0],E;h=S.prev;var O=x[0],Y=x[x.length-1];for(E=0;E<x.length;E+=1)ht(x[E],S,r);for(E=0;E<g.length;E+=1)v.delete(g[E]);_(i,O.prev,Y.next),_(i,h,O),_(i,Y,S),f=S,h=Y,d-=1,x=[],g=[]}else v.delete(l),ht(l,f,r),_(i,l.prev,l.next),_(i,l,h===null?i.first:h.next),_(i,h,l),h=l;continue}for(x=[],g=[];f!==null&&f.k!==m;)(f.e.f&R)===0&&(v??(v=new Set)).add(f),g.push(f),f=f.next;if(f===null)continue;l=f}x.push(l),h=l,f=l.next}if(f!==null||v!==void 0){for(var X=v===void 0?[]:xt(v);f!==null;)(f.e.f&R)===0&&X.push(f),f=f.next;var k=X.length;if(k>0){var Mt=(s&dt)!==0&&c===0?r:null;if(t){for(d=0;d<k;d+=1)(U=X[d].a)==null||U.measure();for(d=0;d<k;d+=1)(G=X[d].a)==null||G.fix()}Zt(i,X,Mt,p)}}t&&Nt(()=>{var W;if(y!==void 0)for(l of y)(W=l.a)==null||W.apply()}),tt.first=i.first&&i.first.e,tt.last=h&&h.e}function Kt(e,i,r,n){(n&Q)!==0&&rt(e.v,i),(n&Z)!==0?rt(e.i,r):e.i=r}function gt(e,i,r,n,s,a,u,t,o,c){var p=(o&Q)!==0,b=(o&Pt)===0,f=p?b?Ot(s,!1,!1):et(s):s,v=(o&Z)===0?u:et(u),h={i:v,v:f,k:a,a:null,e:null,prev:r,next:n};try{return h.e=vt(()=>t(e,f,v,c),A),h.e.prev=r&&r.e,h.e.next=n&&n.e,r===null?i.first=h:(r.next=h,r.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function ht(e,i,r){for(var n=e.next?e.next.e.nodes_start:r,s=i?i.e.nodes_start:r,a=e.e.nodes_start;a!==n;){var u=Ht(a);s.before(a),a=u}}function _(e,i,r){i===null?e.first=r:(i.next=r,i.e.next=r&&r.e),r!==null&&(r.prev=i,r.e.prev=i&&i.e)}function bt(e){var i,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(i=0;i<s;i++)e[i]&&(r=bt(e[i]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ut(){for(var e,i,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(i=bt(e))&&(n&&(n+=" "),n+=i);return n}function dr(e){return typeof e=="object"?Ut(e):e??""}const lt=[...` 	
\r\f \v\uFEFF`];function Gt(e,i,r){var n=e==null?"":""+e;if(i&&(n=n?n+" "+i:i),r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var a=s.length,u=0;(u=n.indexOf(s,u))>=0;){var t=u+a;(u===0||lt.includes(n[u-1]))&&(t===n.length||lt.includes(n[t]))?n=(u===0?"":n.substring(0,u))+n.substring(t+1):u=t}}return n===""?null:n}function ct(e,i=!1){var r=i?" !important;":";",n="";for(var s in e){var a=e[s];a!=null&&a!==""&&(n+=" "+s+": "+a+r)}return n}function B(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Wt(e,i){if(i){var r="",n,s;if(Array.isArray(i)?(n=i[0],s=i[1]):n=i,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,u=0,t=!1,o=[];n&&o.push(...Object.keys(n).map(B)),s&&o.push(...Object.keys(s).map(B));var c=0,p=-1;const y=e.length;for(var b=0;b<y;b++){var f=e[b];if(t?f==="/"&&e[b-1]==="*"&&(t=!1):a?a===f&&(a=!1):f==="/"&&e[b+1]==="*"?t=!0:f==='"'||f==="'"?a=f:f==="("?u++:f===")"&&u--,!t&&a===!1&&u===0){if(f===":"&&p===-1)p=b;else if(f===";"||b===y-1){if(p!==-1){var v=B(e.substring(c,p).trim());if(!o.includes(v)){f!==";"&&b++;var h=e.substring(c,b).trim();r+=" "+h+";"}}c=b+1,p=-1}}}}return n&&(r+=ct(n)),s&&(r+=ct(s,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function yr(e,i,r,n,s,a){var u=e.__className;if(A||u!==r||u===void 0){var t=Gt(r,n,a);(!A||t!==e.getAttribute("class"))&&(t==null?e.removeAttribute("class"):e.className=t),e.__className=r}else if(a&&s!==a)for(var o in a){var c=!!a[o];(s==null||c!==!!s[o])&&e.classList.toggle(o,c)}return a}function j(e,i={},r,n){for(var s in r){var a=r[s];i[s]!==a&&(r[s]==null?e.style.removeProperty(s):e.style.setProperty(s,a,n))}}function vr(e,i,r,n){var s=e.__style;if(A||s!==i){var a=Wt(i,n);(!A||a!==e.getAttribute("style"))&&(a==null?e.removeAttribute("style"):e.style.cssText=a),e.__style=i}else n&&(Array.isArray(n)?(j(e,r==null?void 0:r[0],n[0]),j(e,r==null?void 0:r[1],n[1],"important")):j(e,r,n));return n}function $t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F={exports:{}},pt;function tr(){return pt||(pt=1,function(e,i){e.exports=r;function r(t,o){if(!(this instanceof r))return new r(t,o);this.x=t||0,this.y=o||0}r.fromArray=function(t){return new r(t[0]||0,t[1]||0)},r.fromObject=function(t){return new r(t.x||0,t.y||0)},r.prototype.addX=function(t){return this.x+=t.x,this},r.prototype.addY=function(t){return this.y+=t.y,this},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},r.prototype.addScalarX=function(t){return this.x+=t,this},r.prototype.addScalarY=function(t){return this.y+=t,this},r.prototype.subtractX=function(t){return this.x-=t.x,this},r.prototype.subtractY=function(t){return this.y-=t.y,this},r.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.subtractScalar=function(t){return this.x-=t,this.y-=t,this},r.prototype.subtractScalarX=function(t){return this.x-=t,this},r.prototype.subtractScalarY=function(t){return this.y-=t,this},r.prototype.divideX=function(t){return this.x/=t.x,this},r.prototype.divideY=function(t){return this.y/=t.y,this},r.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},r.prototype.divideScalar=function(t){return t!==0?(this.x/=t,this.y/=t):(this.x=0,this.y=0),this},r.prototype.divideScalarX=function(t){return t!==0?this.x/=t:this.x=0,this},r.prototype.divideScalarY=function(t){return t!==0?this.y/=t:this.y=0,this},r.prototype.invertX=function(){return this.x*=-1,this},r.prototype.invertY=function(){return this.y*=-1,this},r.prototype.invert=function(){return this.invertX(),this.invertY(),this},r.prototype.multiplyX=function(t){return this.x*=t.x,this},r.prototype.multiplyY=function(t){return this.y*=t.y,this},r.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},r.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},r.prototype.multiplyScalarX=function(t){return this.x*=t,this},r.prototype.multiplyScalarY=function(t){return this.y*=t,this},r.prototype.normalize=function(){var t=this.length();return t===0?(this.x=1,this.y=0):this.divide(r(t,t)),this},r.prototype.norm=r.prototype.normalize,r.prototype.limit=function(t,o){return Math.abs(this.x)>t&&(this.x*=o),Math.abs(this.y)>t&&(this.y*=o),this},r.prototype.randomize=function(t,o){return this.randomizeX(t,o),this.randomizeY(t,o),this},r.prototype.randomizeX=function(t,o){var c=Math.min(t.x,o.x),p=Math.max(t.x,o.x);return this.x=s(c,p),this},r.prototype.randomizeY=function(t,o){var c=Math.min(t.y,o.y),p=Math.max(t.y,o.y);return this.y=s(c,p),this},r.prototype.randomizeAny=function(t,o){return Math.round(Math.random())?this.randomizeX(t,o):this.randomizeY(t,o),this},r.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},r.prototype.toFixed=function(t){return typeof t>"u"&&(t=8),this.x=this.x.toFixed(t),this.y=this.y.toFixed(t),this},r.prototype.mixX=function(t,o){return typeof o>"u"&&(o=.5),this.x=(1-o)*this.x+o*t.x,this},r.prototype.mixY=function(t,o){return typeof o>"u"&&(o=.5),this.y=(1-o)*this.y+o*t.y,this},r.prototype.mix=function(t,o){return this.mixX(t,o),this.mixY(t,o),this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.copyX=function(t){return this.x=t.x,this},r.prototype.copyY=function(t){return this.y=t.y,this},r.prototype.copy=function(t){return this.copyX(t),this.copyY(t),this},r.prototype.zero=function(){return this.x=this.y=0,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.cross=function(t){return this.x*t.y-this.y*t.x},r.prototype.projectOnto=function(t){var o=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=o*t.x,this.y=o*t.y,this},r.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},r.prototype.horizontalAngleDeg=function(){return a(this.horizontalAngle())},r.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},r.prototype.verticalAngleDeg=function(){return a(this.verticalAngle())},r.prototype.angle=r.prototype.horizontalAngle,r.prototype.angleDeg=r.prototype.horizontalAngleDeg,r.prototype.direction=r.prototype.horizontalAngle,r.prototype.rotate=function(t){var o=this.x*Math.cos(t)-this.y*Math.sin(t),c=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=o,this.y=c,this},r.prototype.rotateDeg=function(t){return t=u(t),this.rotate(t)},r.prototype.rotateTo=function(t){return this.rotate(t-this.angle())},r.prototype.rotateToDeg=function(t){return t=u(t),this.rotateTo(t)},r.prototype.rotateBy=function(t){var o=this.angle()+t;return this.rotate(o)},r.prototype.rotateByDeg=function(t){return t=u(t),this.rotateBy(t)},r.prototype.distanceX=function(t){return this.x-t.x},r.prototype.absDistanceX=function(t){return Math.abs(this.distanceX(t))},r.prototype.distanceY=function(t){return this.y-t.y},r.prototype.absDistanceY=function(t){return Math.abs(this.distanceY(t))},r.prototype.distance=function(t){return Math.sqrt(this.distanceSq(t))},r.prototype.distanceSq=function(t){var o=this.distanceX(t),c=this.distanceY(t);return o*o+c*c},r.prototype.length=function(){return Math.sqrt(this.lengthSq())},r.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},r.prototype.magnitude=r.prototype.length,r.prototype.isZero=function(){return this.x===0&&this.y===0},r.prototype.isEqualTo=function(t){return this.x===t.x&&this.y===t.y},r.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},r.prototype.toArray=function(){return[this.x,this.y]},r.prototype.toObject=function(){return{x:this.x,y:this.y}};var n=180/Math.PI;function s(t,o){return Math.floor(Math.random()*(o-t+1)+t)}function a(t){return t*n}function u(t){return t/n}}(F)),F.exports}var rr=tr();const mt=$t(rr),xr=e=>({nodes:e.nodes.map(i=>({...i,position:[...i.position]})),links:e.links.map(i=>({...i}))}),gr=(e,i)=>{const r=i.getBoundingClientRect();return new mt(e.clientX-r.left,e.clientY-r.top)},br=(e,i,r,n)=>{const s=i.getBoundingClientRect(),a=(e.clientX-s.left+r.x)/n,u=(e.clientY-s.top+r.y)/n;return new mt(a,u)},mr=(e,i,r)=>{const n=i.clone().subtract(e),a=r.clone().subtract(e).dot(n)/n.lengthSq();if(a<0||a>1)return 1e6;const u=Math.abs(i.clone().subtract(e).cross(r.clone().subtract(e))),t=i.clone().subtract(e).length();return u/t},Mr="bg-neutral-800 text-white border-blue-500 text-center rounded-xl border-2 w-fit p-2 pt-1 transition duration-200 hover:bg-gray-700",Ar="font-mono text-lg bg-neutral-800 text-white rounded-xl p-2 pl-3 transition duration-300 focus:bg-gray-700 focus:ring-2 focus:ring-blue-500 outline-none";var er=I('<p class="pl-2"><strong> </strong> </p>'),ir=I('<p class="pl-2"><strong> </strong> </p>'),nr=I('<br/> <h2 class="text-xl"> </h2> <!>',1),or=I('<button class="transition-all duration-200" aria-label="Close Menu"><i class="fa-solid fa-chevron-up"></i></button>'),sr=I('<button class="transition-all duration-200" aria-label="Open Menu"><i class="fa-solid fa-chevron-down"></i></button>'),ar=I('<div class="absolute right-1 top-1"><div class="bg-neutral-200 border-blue-300 border-4 p-3 pr-10 pb-6 rounded-lg"><h1 class="text-2xl">Controls</h1> <!> <!></div> <!></div>');function Er(e,i){Vt(i,!0);const r=[{"Left Click":"create a new node","Left Click (on existing node)":"delete selected node"},{"Left Click (on existing node)":"edit node contents"},{"Left Click and Drag":"move node"},{"Left Click (on Node A)":"start new edge from node","Left Click (on node, once started edge)":"add new edge","Left Click (on existing edge)":"delete selected edge",Escape:"cancel new edge"},{"Left Click (on existing edge)":"edit edge contents"}],n=["Add Node","Edit Node","Move Node","Add Edge","Edit Edge"];let s=jt(!0),a,u;var t=ar(),o=w(t),c=D(w(o),2);ft(c,17,()=>Object.entries(i.controls),ut,(y,x)=>{var g=it(()=>ot(C(x),2));let M=()=>C(g)[0],m=()=>C(g)[1];var l=er(),d=w(l),N=w(d,!0);T(d);var S=D(d);T(l),V(()=>{L(N,M()),L(S,` — ${m()??""}`)}),z(y,l)});var p=D(c,2);{var b=y=>{var x=nr(),g=D(Ft(x),2),M=w(g);T(g);var m=D(g,2);ft(m,17,()=>Object.entries(r[i.mode]),ut,(l,d)=>{var N=it(()=>ot(C(d),2));let S=()=>C(N)[0],E=()=>C(N)[1];var O=ir(),Y=w(O),X=w(Y,!0);T(Y);var k=D(Y);T(O),V(()=>{L(X,S()),L(k,` — ${E()??""}`)}),z(l,O)}),V(()=>L(M,`Mode Controls — ${n[i.mode]??""}`)),z(y,x)};st(p,y=>{i.mode!==-1&&y(b)})}T(o),at(o,y=>u=y,()=>u);var f=D(o,2);{var v=y=>{var x=or();x.__click=g=>{nt(s,!1),a.style.top=`-${u.offsetHeight}px`},z(y,x)},h=y=>{var x=sr();x.__click=g=>{nt(s,!0),a.style.top="4px"},z(y,x)};st(f,y=>{C(s)?y(v):y(h,!1)})}T(t),at(t,y=>a=y,()=>a),z(e,t),Bt()}Qt(["click"]);export{Er as C,mt as V,vr as a,Mr as b,br as c,xr as d,ft as e,mr as f,gr as g,dr as h,ut as i,yr as s,Ar as t};
