import{a2 as _t,o as Mt,aG as lt,y as L,h as _,M as At,u as Et,g as A,ay as St,v as Ct,w as Yt,x as Z,z as P,D as k,V as Xt,Y as Dt,A as dt,B as yt,C as Tt,aH as V,a0 as vt,Q as wt,a4 as $,aI as j,aJ as tt,aK as K,m as Nt,aL as rt,aM as zt,aN as Ot,$ as It,aO as qt,K as kt,aP as Ht,W as Lt,a9 as Pt,p as Vt,f as I,b as O,n as Bt,s as D,c as T,r as w,k as Rt,t as B,aE as et,a as Ft,d as nt,aQ as it}from"./BeWt66ZE.js";import"./CWj6FrbW.js";import{s as H}from"./DsjGDbIo.js";import{i as ot}from"./CKogC_md.js";import{d as jt}from"./9tEt_Nny.js";import{b as at}from"./D_Y7g2-O.js";function st(e,n){return n}function Kt(e,n,r,i){for(var a=[],s=n.length,u=0;u<s;u++)Ot(n[u].e,a,!0);var t=s>0&&a.length===0&&r!==null;if(t){var o=r.parentNode;It(o),o.append(r),i.clear(),C(e,n[0].prev,n[s-1].next)}qt(a,()=>{for(var l=0;l<s;l++){var y=n[l];t||(i.delete(y.k),C(e,y.prev,y.next)),kt(y.e,!t)}})}function ut(e,n,r,i,a,s=null){var u=e,t={flags:n,items:new Map,first:null},o=(n&lt)!==0;if(o){var l=e;u=_?L(At(l)):l.appendChild(_t())}_&&Et();var y=null,E=!1,c=St(()=>{var x=r();return Pt(x)?x:x==null?[]:vt(x)});Mt(()=>{var x=A(c),f=x.length;if(E&&f===0)return;E=f===0;let d=!1;if(_){var v=Ct(u)===Yt;v!==(f===0)&&(u=Z(),L(u),P(!1),d=!0)}if(_){for(var g=null,m,b=0;b<f;b++){if(k.nodeType===Xt&&k.data===Dt){u=k,d=!0,P(!1);break}var h=x[b],p=i(h,b);m=xt(k,t,g,null,h,p,b,a,n,r),t.items.set(p,m),g=m}f>0&&L(Z())}_||Qt(x,t,u,a,n,i,r),s!==null&&(f===0?y?dt(y):y=yt(()=>s(u)):y!==null&&Tt(y,()=>{y=null})),d&&P(!0),A(c)}),_&&(u=k)}function Qt(e,n,r,i,a,s,u){var Q,G,J,U;var t=(a&zt)!==0,o=(a&(j|K))!==0,l=e.length,y=n.items,E=n.first,c=E,x,f=null,d,v=[],g=[],m,b,h,p;if(t)for(p=0;p<l;p+=1)m=e[p],b=s(m,p),h=y.get(b),h!==void 0&&((Q=h.a)==null||Q.measure(),(d??(d=new Set)).add(h));for(p=0;p<l;p+=1){if(m=e[p],b=s(m,p),h=y.get(b),h===void 0){var N=c?c.e.nodes_start:r;f=xt(N,n,f,f===null?n.first:f.next,m,b,p,i,a,u),y.set(b,f),v=[],g=[],c=f.next;continue}if(o&&Gt(h,m,p,a),(h.e.f&V)!==0&&(dt(h.e),t&&((G=h.a)==null||G.unfix(),(d??(d=new Set)).delete(h))),h!==c){if(x!==void 0&&x.has(h)){if(v.length<g.length){var S=g[0],M;f=S.prev;var z=v[0],Y=v[v.length-1];for(M=0;M<v.length;M+=1)ft(v[M],S,r);for(M=0;M<g.length;M+=1)x.delete(g[M]);C(n,z.prev,Y.next),C(n,f,z),C(n,Y,S),c=S,f=Y,p-=1,v=[],g=[]}else x.delete(h),ft(h,c,r),C(n,h.prev,h.next),C(n,h,f===null?n.first:f.next),C(n,f,h),f=h;continue}for(v=[],g=[];c!==null&&c.k!==b;)(c.e.f&V)===0&&(x??(x=new Set)).add(c),g.push(c),c=c.next;if(c===null)continue;h=c}v.push(h),f=h,c=h.next}if(c!==null||x!==void 0){for(var X=x===void 0?[]:vt(x);c!==null;)(c.e.f&V)===0&&X.push(c),c=c.next;var q=X.length;if(q>0){var mt=(a&lt)!==0&&l===0?r:null;if(t){for(p=0;p<q;p+=1)(J=X[p].a)==null||J.measure();for(p=0;p<q;p+=1)(U=X[p].a)==null||U.fix()}Kt(n,X,mt,y)}}t&&wt(()=>{var W;if(d!==void 0)for(h of d)(W=h.a)==null||W.apply()}),$.first=n.first&&n.first.e,$.last=f&&f.e}function Gt(e,n,r,i){(i&j)!==0&&tt(e.v,n),(i&K)!==0?tt(e.i,r):e.i=r}function xt(e,n,r,i,a,s,u,t,o,l){var y=(o&j)!==0,E=(o&Ht)===0,c=y?E?Nt(a,!1,!1):rt(a):a,x=(o&K)===0?u:rt(u),f={i:x,v:c,k:s,a:null,e:null,prev:r,next:i};try{return f.e=yt(()=>t(e,c,x,l),_),f.e.prev=r&&r.e,f.e.next=i&&i.e,r===null?n.first=f:(r.next=f,r.e.next=f.e),i!==null&&(i.prev=f,i.e.prev=f.e),f}finally{}}function ft(e,n,r){for(var i=e.next?e.next.e.nodes_start:r,a=n?n.e.nodes_start:r,s=e.e.nodes_start;s!==i;){var u=Lt(s);a.before(s),s=u}}function C(e,n,r){n===null?e.first=r:(n.next=r,n.e.next=r&&r.e),r!==null&&(r.prev=n,r.e.prev=n&&n.e)}function gt(e){var n,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(n=0;n<a;n++)e[n]&&(r=gt(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function Jt(){for(var e,n,r=0,i="",a=arguments.length;r<a;r++)(e=arguments[r])&&(n=gt(e))&&(i&&(i+=" "),i+=n);return i}function lr(e){return typeof e=="object"?Jt(e):e??""}const ht=[...` 	
\r\fÂ \v\uFEFF`];function Ut(e,n,r){var i=e==null?"":""+e;if(n&&(i=i?i+" "+n:n),r){for(var a in r)if(r[a])i=i?i+" "+a:a;else if(i.length)for(var s=a.length,u=0;(u=i.indexOf(a,u))>=0;){var t=u+s;(u===0||ht.includes(i[u-1]))&&(t===i.length||ht.includes(i[t]))?i=(u===0?"":i.substring(0,u))+i.substring(t+1):u=t}}return i===""?null:i}function ct(e,n=!1){var r=n?" !important;":";",i="";for(var a in e){var s=e[a];s!=null&&s!==""&&(i+=" "+a+": "+s+r)}return i}function Wt(e,n){if(n){var r="",i,a;return Array.isArray(n)?(i=n[0],a=n[1]):i=n,i&&(r+=ct(i)),a&&(r+=ct(a,!0)),r=r.trim(),r===""?null:r}return String(e)}function dr(e,n,r,i,a,s){var u=e.__className;if(_||u!==r||u===void 0){var t=Ut(r,i,s);(!_||t!==e.getAttribute("class"))&&(t==null?e.removeAttribute("class"):e.className=t),e.__className=r}else if(s&&a!==s)for(var o in s){var l=!!s[o];(a==null||l!==!!a[o])&&e.classList.toggle(o,l)}return s}function R(e,n={},r,i){for(var a in r){var s=r[a];n[a]!==s&&(r[a]==null?e.style.removeProperty(a):e.style.setProperty(a,s,i))}}function yr(e,n,r,i){var a=e.__style;if(_||a!==n){var s=Wt(n,i);(!_||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=n}else i&&(Array.isArray(i)?(R(e,r==null?void 0:r[0],i[0]),R(e,r==null?void 0:r[1],i[1],"important")):R(e,r,i));return i}function Zt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F={exports:{}},pt;function $t(){return pt||(pt=1,function(e,n){e.exports=r;function r(t,o){if(!(this instanceof r))return new r(t,o);this.x=t||0,this.y=o||0}r.fromArray=function(t){return new r(t[0]||0,t[1]||0)},r.fromObject=function(t){return new r(t.x||0,t.y||0)},r.prototype.addX=function(t){return this.x+=t.x,this},r.prototype.addY=function(t){return this.y+=t.y,this},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},r.prototype.addScalarX=function(t){return this.x+=t,this},r.prototype.addScalarY=function(t){return this.y+=t,this},r.prototype.subtractX=function(t){return this.x-=t.x,this},r.prototype.subtractY=function(t){return this.y-=t.y,this},r.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.subtractScalar=function(t){return this.x-=t,this.y-=t,this},r.prototype.subtractScalarX=function(t){return this.x-=t,this},r.prototype.subtractScalarY=function(t){return this.y-=t,this},r.prototype.divideX=function(t){return this.x/=t.x,this},r.prototype.divideY=function(t){return this.y/=t.y,this},r.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},r.prototype.divideScalar=function(t){return t!==0?(this.x/=t,this.y/=t):(this.x=0,this.y=0),this},r.prototype.divideScalarX=function(t){return t!==0?this.x/=t:this.x=0,this},r.prototype.divideScalarY=function(t){return t!==0?this.y/=t:this.y=0,this},r.prototype.invertX=function(){return this.x*=-1,this},r.prototype.invertY=function(){return this.y*=-1,this},r.prototype.invert=function(){return this.invertX(),this.invertY(),this},r.prototype.multiplyX=function(t){return this.x*=t.x,this},r.prototype.multiplyY=function(t){return this.y*=t.y,this},r.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},r.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},r.prototype.multiplyScalarX=function(t){return this.x*=t,this},r.prototype.multiplyScalarY=function(t){return this.y*=t,this},r.prototype.normalize=function(){var t=this.length();return t===0?(this.x=1,this.y=0):this.divide(r(t,t)),this},r.prototype.norm=r.prototype.normalize,r.prototype.limit=function(t,o){return Math.abs(this.x)>t&&(this.x*=o),Math.abs(this.y)>t&&(this.y*=o),this},r.prototype.randomize=function(t,o){return this.randomizeX(t,o),this.randomizeY(t,o),this},r.prototype.randomizeX=function(t,o){var l=Math.min(t.x,o.x),y=Math.max(t.x,o.x);return this.x=a(l,y),this},r.prototype.randomizeY=function(t,o){var l=Math.min(t.y,o.y),y=Math.max(t.y,o.y);return this.y=a(l,y),this},r.prototype.randomizeAny=function(t,o){return Math.round(Math.random())?this.randomizeX(t,o):this.randomizeY(t,o),this},r.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},r.prototype.toFixed=function(t){return typeof t>"u"&&(t=8),this.x=this.x.toFixed(t),this.y=this.y.toFixed(t),this},r.prototype.mixX=function(t,o){return typeof o>"u"&&(o=.5),this.x=(1-o)*this.x+o*t.x,this},r.prototype.mixY=function(t,o){return typeof o>"u"&&(o=.5),this.y=(1-o)*this.y+o*t.y,this},r.prototype.mix=function(t,o){return this.mixX(t,o),this.mixY(t,o),this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.copyX=function(t){return this.x=t.x,this},r.prototype.copyY=function(t){return this.y=t.y,this},r.prototype.copy=function(t){return this.copyX(t),this.copyY(t),this},r.prototype.zero=function(){return this.x=this.y=0,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.cross=function(t){return this.x*t.y-this.y*t.x},r.prototype.projectOnto=function(t){var o=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=o*t.x,this.y=o*t.y,this},r.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},r.prototype.horizontalAngleDeg=function(){return s(this.horizontalAngle())},r.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},r.prototype.verticalAngleDeg=function(){return s(this.verticalAngle())},r.prototype.angle=r.prototype.horizontalAngle,r.prototype.angleDeg=r.prototype.horizontalAngleDeg,r.prototype.direction=r.prototype.horizontalAngle,r.prototype.rotate=function(t){var o=this.x*Math.cos(t)-this.y*Math.sin(t),l=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=o,this.y=l,this},r.prototype.rotateDeg=function(t){return t=u(t),this.rotate(t)},r.prototype.rotateTo=function(t){return this.rotate(t-this.angle())},r.prototype.rotateToDeg=function(t){return t=u(t),this.rotateTo(t)},r.prototype.rotateBy=function(t){var o=this.angle()+t;return this.rotate(o)},r.prototype.rotateByDeg=function(t){return t=u(t),this.rotateBy(t)},r.prototype.distanceX=function(t){return this.x-t.x},r.prototype.absDistanceX=function(t){return Math.abs(this.distanceX(t))},r.prototype.distanceY=function(t){return this.y-t.y},r.prototype.absDistanceY=function(t){return Math.abs(this.distanceY(t))},r.prototype.distance=function(t){return Math.sqrt(this.distanceSq(t))},r.prototype.distanceSq=function(t){var o=this.distanceX(t),l=this.distanceY(t);return o*o+l*l},r.prototype.length=function(){return Math.sqrt(this.lengthSq())},r.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},r.prototype.magnitude=r.prototype.length,r.prototype.isZero=function(){return this.x===0&&this.y===0},r.prototype.isEqualTo=function(t){return this.x===t.x&&this.y===t.y},r.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},r.prototype.toArray=function(){return[this.x,this.y]},r.prototype.toObject=function(){return{x:this.x,y:this.y}};var i=180/Math.PI;function a(t,o){return Math.floor(Math.random()*(o-t+1)+t)}function s(t){return t*i}function u(t){return t/i}}(F)),F.exports}var tr=$t();const bt=Zt(tr);var rr=I('<p class="pl-2"><strong> </strong> </p>'),er=I('<p class="pl-2"><strong> </strong> </p>'),nr=I("<br/> <h2> </h2> <!>",1),ir=I('<button aria-label="Close Menu"><i class="fa-solid fa-chevron-up"></i></button>'),or=I('<button aria-label="Open Menu"><i class="fa-solid fa-chevron-down"></i></button>'),ar=I('<div class="absolute right-1 top-1"><div class="bg-neutral-200 border-blue-300 border-4 p-3 pr-10 pb-6 rounded-lg"><h1 class="text-2xl">Controls</h1> <!> <!></div> <!></div>');function vr(e,n){Vt(n,!0);const r=[{"Left Click":"create a new node","Left Click (on existing node)":"delete selected node"},{"Left Click (on existing node)":"edit node contents"},{"Left Click and Drag":"move node"},{"Left Click (on Node A)":"start new edge from node","Left Click (on node, once started edge)":"add new edge",Escape:"cancel new edge"},{"Left Click (on existing edge)":"edit edge contents"}],i=["Add Node","Edit Node","Move Node","Add Edge","Edit Edge"];let a=Rt(!0),s,u;var t=ar(),o=T(t),l=D(T(o),2);ut(l,17,()=>Object.entries(n.controls),st,(d,v)=>{var g=et(()=>it(A(v),2));let m=()=>A(g)[0],b=()=>A(g)[1];var h=rr(),p=T(h),N=T(p,!0);w(p);var S=D(p);w(h),B(()=>{H(N,m()),H(S,` â ${b()??""}`)}),O(d,h)});var y=D(l,2);{var E=d=>{var v=nr(),g=D(Ft(v),2),m=T(g);w(g);var b=D(g,2);ut(b,17,()=>Object.entries(r[n.mode]),st,(h,p)=>{var N=et(()=>it(A(p),2));let S=()=>A(N)[0],M=()=>A(N)[1];var z=er(),Y=T(z),X=T(Y,!0);w(Y);var q=D(Y);w(z),B(()=>{H(X,S()),H(q,` â ${M()??""}`)}),O(h,z)}),B(()=>H(m,`Mode-Specific Controls â ${i[n.mode]??""}`)),O(d,v)};ot(y,d=>{n.mode!==-1&&d(E)})}w(o),at(o,d=>u=d,()=>u);var c=D(o,2);{var x=d=>{var v=ir();v.__click=g=>{nt(a,!1),s.style.top=`-${u.offsetHeight}px`},O(d,v)},f=d=>{var v=or();v.__click=g=>{nt(a,!0),s.style.top="4px"},O(d,v)};ot(c,d=>{A(a)?d(x):d(f,!1)})}w(t),at(t,d=>s=d,()=>s),O(e,t),Bt()}jt(["click"]);const xr=e=>({nodes:e.nodes.map(n=>({...n,position:[...n.position]})),links:e.links.map(n=>({...n}))}),gr=(e,n)=>{const r=n.getBoundingClientRect();return new bt(e.clientX-r.left,e.clientY-r.top)},br=(e,n,r,i)=>{const a=n.getBoundingClientRect(),s=(e.clientX-a.left+r.x)/i,u=(e.clientY-a.top+r.y)/i;return new bt(s,u)},mr=(e,n,r)=>{const i=n.clone().subtract(e),s=r.clone().subtract(e).dot(i)/i.lengthSq();if(s<0||s>1)return 1e6;const u=Math.abs(n.clone().subtract(e).cross(r.clone().subtract(e))),t=n.clone().subtract(e).length();return u/t};export{vr as C,bt as V,gr as a,dr as b,xr as c,lr as d,ut as e,mr as f,br as g,st as i,yr as s};
